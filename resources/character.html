<!DOCTYPE html>
<html>

<head>
    <title>My New Character</title>
    <style>
        .attribute-container {
            display: flex;
            justify-content: space-between;
            border: 2px outset black;
        }

        .column {
            text-align: center;
        }

        .attribute {
            border: 2px outset black;
            background-color: rgb(141, 155, 167);
            text-align: center;
            font-weight: bold;
        }

        .score {
            text-align: center;
        }
    </style>
</head>

<body>
    <div id="attribute-container" class="attribute-container">
        <div class="column">
            <p class="attribute">Strength:</p>
            <p class="score">{{ .Strength }}</p>
        </div>
        <div class="column">
            <p class="attribute">Dexterity:</p>
            <p class="score">{{ .Dexterity }}</p>
        </div>
        <div class="column">
            <p class="attribute">Constitution:</p>
            <p class="score">{{ .Constitution }}</p>
        </div>
        <div class="column">
            <p class="attribute">Intelligence:</p>
            <p class="score">{{ .Intelligence }}</p>
        </div>
        <div class="column">
            <p class="attribute">Wisdom:</p>
            <p class="score">{{ .Wisdom }}</p>
        </div>
        <div class="column">
            <p class="attribute">Charisma:</p>
            <p class="score">{{ .Charisma }}</p>
        </div>
    </div>
    <h3>Traits</h3>
    <p>
        Name: {{ .Name }}<br>
        Gender: {{ .Gender }}<br>
        Age: {{ .Age }}<br>
        Race: {{ .Race }}<br>
        Relationships: {{ .Relationships }}<br>
        Motivation: {{ .Motivation }}
    </p>
    <h3>Background</h3>
    <p>
        {{ .Background}}
    </p>
    <h3>Appearance</h3>
    <p>
        {{ .Appearance}}
    </p>
    <button id="reloadButton">New Character</button>
    <button id="exportButton">Copy to Clipboard</button>

    <script>
        // Add an event listener to the button
        document.getElementById('reloadButton').addEventListener('click', function () {
            window.location.href = `/character`;
        });

        document.getElementById('exportButton').addEventListener('click', function () {
            let characterInfo = '';
            characterInfo += document.getElementById('attribute-container').innerText + '\n';
            characterInfo += 'Traits\n';
            characterInfo += document.getElementsByTagName('body')[0].childNodes[5].innerText + '\n';
            characterInfo += 'Background\n';
            characterInfo += document.getElementsByTagName('body')[0].childNodes[7].innerText + '\n';
            characterInfo += 'Appearance\n';
            characterInfo += document.getElementsByTagName('body')[0].childNodes[9].innerText;

            copyTextToClipboard(characterInfo);
            alert('Character info exported to clipboard!');
        });

        function copyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
        }
    </script>
</body>

</html>